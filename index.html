<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calculadora de Tecido para Cortinas</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: Arial, sans-serif; }
    body { background: #33ad8b; padding: 20px; display: flex; justify-content: center;}
    .calculator { background: #fff; border-radius: 6px; padding: 20px; width: 600px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .calculator h1 { margin-bottom: 16px; font-size: 1.5rem; text-align: center; }
    fieldset { border: 1px solid #ddd; padding: 12px; margin-bottom: 16px; border-radius: 4px;}
    legend { padding: 0 6px; font-weight: bold; }
    label { display: block; margin-bottom: 8px; }
    input[type="number"], select { width: 100%; padding: 6px; margin-top: 4px; margin-bottom: 12px; border: 1px solid #ccc; border-radius: 4px; }
    input[type="radio"] { margin-right: 6px; }
    .inputDim { width: 100%; }
    button { background: #33ad8b; color: #fff; border: none; padding: 10px; width: 100%; font-size: 1.2rem; border-radius: 4px; cursor: pointer; }
    button:hover { background: #3fcaa2; }
    .resultado { margin-top: 20px; text-align: center; }
    .resultado p { margin: 8px 0; font-size: 1.1rem; }
    textarea[readonly] { background: #eee; width: 100%; resize: none; padding: 8px; border-radius: 4px; }
  </style>
</head>
<body>
  <div class="calculator">
    <h1>Calculadora de Consumo de Tecido</h1>
    <form id="formCalc" onsubmit="return false;">
      <!-- 1. Grau de franzimento -->
      <fieldset>
        <legend>1. Grau de franzimento</legend>
        <label><input type="radio" name="franzimento" value="2" checked>Pouco franzida (fator 2×)</label>
        <label><input type="radio" name="franzimento" value="2.5">Franzida (fator 2,5×)</label>
        <label><input type="radio" name="franzimento" value="3">Muito franzida (fator 3×)</label>
      </fieldset>

      <!-- 2. Dimensões da cortina -->
      <fieldset>
        <legend>2. Dimensões da cortina</legend>
        <label for="largura">Largura do local de instalação (m):</label>
        <input type="number" step="0.01" id="largura" class="inputDim" required placeholder="Ex: 4.30">
        <label for="altura">Altura do local de instalação (m):</label>
        <input type="number" step="0.01" id="altura" class="inputDim" required placeholder="Ex: 2.80">
      </fieldset>

      <!-- 3. Tecido e acabamento -->
      <fieldset>
        <legend>3. Tecido e acabamento</legend>
        <label for="largura-tecido">Largura do tecido (m):</label>
        <select id="largura-tecido" class="inputDim">
          <option value="3.00">3,00</option>
          <option value="2.90">2,90</option>
          <option value="2.80">2,80</option>
          <option value="1.60">1,60</option>
          <option value="1.50">1,50</option>
          <option value="1.40">1,40</option>
        </select>
      </fieldset>

      <button id="btnCalcular">Calcular</button>
    </form>

    <!-- Resultado -->
    <div class="resultado">
      <h2>Resultado</h2>
      <p>Consumo total de tecido: <strong><span id="consumo">0,00</span> m</strong></p>
      <p><span id="emendas">Nenhuma emenda vertical</span></p>
    </div>
  </div>

  <script>
    // Lê o fator de franzimento selecionado
    function getFator() {
      return parseFloat(document.querySelector('input[name="franzimento"]:checked').value);
    }

    // Calcula e exibe consumo e emendas seguindo o PDF
    function calcular() {
      const alt = parseFloat(document.getElementById('altura').value);
      const lar = parseFloat(document.getElementById('largura').value);
      const largTecido = parseFloat(document.getElementById('largura-tecido').value);
      const margem = 0.50
      const fator = getFator();

      let consumo, emendas;

      if (alt <= 2.50) {
        // até 2,50 m: largura × fator, sem emendas
        consumo = lar * fator;
        emendas = 0;
      } else {
        // acima de 2,50 m
        const faixas = (lar * fator) / largTecido;
        const alturas = Math.ceil(faixas);
        emendas = Math.max(0, alturas - 1);
        consumo = alturas * (alt + margem);
      }

      // formata e exibe
      document.getElementById('consumo').textContent =
        consumo.toFixed(2).replace('.', ',');
      document.getElementById('emendas').textContent =
        emendas === 0
          ? 'Nenhuma emenda vertical'
          : emendas === 1
            ? '1 emenda vertical'
            : emendas + ' emendas verticais';
    }

    document.getElementById('btnCalcular')
      .addEventListener('click', calcular);
  </script>
</body>
</html>
